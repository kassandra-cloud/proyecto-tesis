{% extends 'base.html' %}

{% block content %}

<div class="row justify-content-center">
    <div class="col-lg-8"> <div class="card shadow-sm">
            <div class="card-body">

                {% if anuncio %}
                    <h1 class="h4 mb-2">Editar Anuncio</h1>
                    <p class="text-muted small">Estás editando un anuncio existente.</p>
                {% else %}
                    <h1 class="h4 mb-2">Crear Nuevo Anuncio</h1>
                    <p class="text-muted small">Este mensaje se enviará como una notificación a los vecinos en la aplicación móvil.</p>
                {% endif %}
                
                <hr>

                <form method="post" novalidate>
                    {% csrf_token %}
                    
                    <div class="mb-3">
                        {{ form.titulo.label_tag }}
                        {{ form.titulo }} 
                        {% if form.titulo.errors %}
                            <div class="invalid-feedback d-block">{{ form.titulo.errors.0 }}</div>
                        {% endif %}
                    </div>
                    
                    <div class="mb-3">
                        {{ form.contenido.label_tag }}
                        {{ form.contenido }} 
                        {% if form.contenido.errors %}
                            <div class="invalid-feedback d-block">{{ form.contenido.errors.0 }}</div>
                        {% endif %}
                    </div>
                    
                    <div class="d-flex gap-2 mt-4">
                        <button type="submit" class="btn btn-success">
                            {% if anuncio %}
                                Guardar Cambios
                            {% else %}
                                Enviar Anuncio
                            {% endif %}
                        </button>
                        <a href="{% url 'anuncios:lista_anuncios' %}" class="btn btn-outline-secondary">Cancelar</a>
                    </div>
                </form>

            </div> </div> </div> </div> {% endblock %}